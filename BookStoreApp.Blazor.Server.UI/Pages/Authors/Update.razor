@page "/authors/edit/{id:int}"

@if (response == null)
{
    <div class="alert alert-primary" role="alert">
        Loading data, please wait...
    </div>
}
else
{
    if (!response.Success)
    {
        <div class="alert alert-danger" role="alert">
            @response.Message
        </div>
    }
    else
    {
        <h3>Edit current Author</h3>
        <EditForm Model="Author" OnValidSubmit="HandleEditAuthor">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <div class="row-cols-lg-3">
                <div class="form-group">
                    <label for="firstname">First Name</label>
                    <InputText @bind-Value="Author.FirstName" class="form-control" id="firstname" />
                    <ValidationMessage For="@(()=>Author.FirstName)" />
                </div>
                <div class="form-group">
                    <label for="lastname">Last Name</label>
                    <InputText @bind-Value="Author.LastName" class="form-control" id="lastname" />
                    <ValidationMessage For="@(()=>Author.LastName)" />
                </div>
                <div class="form-group">
                    <label for="bio">Bio</label>
                    <InputTextArea @bind-Value="Author.Bio" class="form-control" id="bio" />
                    <ValidationMessage For="@(()=>Author.Bio)" />
                </div>
                <br />
                <div class="form-group">
                    <button class="btn btn-primary form-control-sm" type="button" @onclick="HandleEditAuthor">
                        <span class="oi oi-bookmark"></span>
                        Save Author
                    </button>
                </div>
                <br />
                <div class="form-group">
                    <button @onclick="BackToList" class="btn btn-info form-control-sm" type="button">
                        <span class="oi oi-media-skip-backward"></span>
                        Back to list
                    </button>
                </div>
            </div>
        </EditForm>
    }
}
@code {

}
